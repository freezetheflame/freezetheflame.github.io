<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>java notes - Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="JAVA learning from CS61B[TOC] IntroWhat is CS61B mainly about Writing code that runs efficiently. good algorithm good data structures   Writing code efficiently. designing,building, testing, and debug"><meta property="og:type" content="blog"><meta property="og:title" content="java notes"><meta property="og:url" content="https://freezetheflame.github.io/2023/08/02/java-notes/"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="JAVA learning from CS61B[TOC] IntroWhat is CS61B mainly about Writing code that runs efficiently. good algorithm good data structures   Writing code efficiently. designing,building, testing, and debug"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://whvn.cc/wyl3px"><meta property="article:published_time" content="2023-08-02T12:27:07.000Z"><meta property="article:modified_time" content="2023-08-02T12:33:01.887Z"><meta property="article:author" content="John Doe"><meta property="article:tag" content="java"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://whvn.cc/wyl3px"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://freezetheflame.github.io/2023/08/02/java-notes/"},"headline":"java notes","image":[],"datePublished":"2023-08-02T12:27:07.000Z","dateModified":"2023-08-02T12:33:01.887Z","author":{"@type":"Person","name":"John Doe"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"https://freezetheflame.github.io/img/logo.svg"}},"description":"JAVA learning from CS61B[TOC] IntroWhat is CS61B mainly about Writing code that runs efficiently. good algorithm good data structures   Writing code efficiently. designing,building, testing, and debug"}</script><link rel="canonical" href="https://freezetheflame.github.io/2023/08/02/java-notes/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-08-02T12:27:07.000Z" title="2023/8/2 20:27:07">2023-08-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-08-02T12:33:01.887Z" title="2023/8/2 20:33:01">2023-08-02</time></span><span class="level-item">an hour read (About 11841 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">java notes</h1><div class="content"><h1 id="JAVA-learning-from-CS61B"><a href="#JAVA-learning-from-CS61B" class="headerlink" title="JAVA learning from CS61B"></a>JAVA learning from CS61B</h1><p>[TOC]</p>
<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><h4 id="What-is-CS61B-mainly-about"><a href="#What-is-CS61B-mainly-about" class="headerlink" title="What is CS61B mainly about"></a>What is CS61B mainly about</h4><ul>
<li>Writing code that runs efficiently.<ul>
<li>good algorithm</li>
<li>good data structures</li>
</ul>
</li>
<li>Writing code efficiently.<ul>
<li>designing,building, testing, and debugging large programs.</li>
<li>using tools like IntelliJ , JUnit , and various command line tools</li>
<li>Java (not the focus of the course!)</li>
</ul>
</li>
</ul>
<h4 id="Compilation"><a href="#Compilation" class="headerlink" title="Compilation"></a>Compilation</h4><p><img src="/../images/java-notes/compiler1.png" alt="path"></p>
<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><ul>
<li><p>DOG:</p>
<ul>
<li>not all classes are main class </li>
<li>To run a class, we must define a main method</li>
</ul>
<p><em><strong>Defining a Typical Class (Terminology)</strong></em></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> weightInPounds;</span><br><span class="line"> <span class="comment">// instance variable and can have many as it have</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(<span class="type">int</span> startingWeight)</span> &#123;		<span class="comment">//Constructor</span></span><br><span class="line">weightInPounds = startingWeight;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeNoise</span><span class="params">()</span> &#123;			<span class="comment">//Non static method</span></span><br><span class="line"><span class="keyword">if</span> (weightInPounds &lt; <span class="number">10</span>) &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;yipyipyip!&quot;</span>);</span><br><span class="line">   	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (weightInPounds &lt; <span class="number">30</span>) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;bark. bark.&quot;</span>);</span><br><span class="line">   	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      	System.out.println(<span class="string">&quot;woof!&quot;</span>);</span><br><span class="line">   	&#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//roughly speaking: if the method needs to use “my instance variables”, the method must be non-static.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DogLauncher</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	Dog smallDog;</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="number">20</span>);</span><br><span class="line">   	smallDog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="number">5</span>);</span><br><span class="line">   	<span class="type">Dog</span> <span class="variable">hugeDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="number">150</span>);</span><br><span class="line">   	smallDog.makeNoise();</span><br><span class="line">   	hugeDog.makeNoise();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><em><strong>Arrays of Objects</strong></em></p>
<p><strong>To create an array of objects:</strong></p>
<p>First use the new keyword to create the array.</p>
<p>Then use new again for each object that you want to put in the array.</p>
<h2 id="testing"><a href="#testing" class="headerlink" title="testing"></a>testing</h2><h4 id="Ad-Hoc-Testing-vs-JUnit"><a href="#Ad-Hoc-Testing-vs-JUnit" class="headerlink" title="Ad Hoc Testing vs. JUnit"></a>Ad Hoc Testing vs. JUnit</h4><p><img src="/../images/java-notes/java1.png" alt="ad hoc"></p>
<p><img src="/../images/java-notes/java2.png" alt="JUnit"></p>
<ul>
<li><p>New Syntax #1: org.junit.Assert.assertEquals(expected, actual);</p>
<p>Tests that expected equals actual. If not, program terminates with verbose message.</p>
</li>
<li><p>New Syntax #2 (just trust me):</p>
<p><strong>Annotate</strong> each test with <strong>@org.junit.Test</strong>.</p>
<p>Change all test methods to non-static. Use a JUnit runner to run all tests and tabulate results. IntelliJ provides a default runner&#x2F;renderer. OK to delete main. There are ways to run JUnit tests from command line. Not taught in our class. Rendered output is easier to read, no need to manually invoke tests!</p>
</li>
<li><p>New Syntax #3: To avoid this we’ll start every test file with:<br><strong>import</strong> <strong>org.junit.Test</strong>;<br><strong>import</strong> <strong>static</strong> org.junit.Assert.*;<br>This will magically eliminate the need to type ‘org.junit’ or ‘org.junit.Assert’ (more after the midterm on what these imports really mean).</p>
</li>
</ul>
<h4 id="tip-sort"><a href="#tip-sort" class="headerlink" title="tip: sort:"></a>tip: sort:</h4><p>Without changing the signature of public static void sort(String[] a), how can we use recursion? What might the recursive call look like?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Destructively sorts x starting at index k */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(String[] x, <span class="type">int</span> k)</span> </span><br><span class="line">&#123; ... </span><br><span class="line">    sort(x, k + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../images/java-notes/java3.png" alt="Design Process"></p>
<h4 id="Steps-to-developing-according-to-TDD"><a href="#Steps-to-developing-according-to-TDD" class="headerlink" title="Steps to developing according to TDD:"></a>Steps to developing according to TDD:</h4><ul>
<li><p>Identify a new feature.</p>
</li>
<li><p>Write a unit test for that feature.</p>
</li>
<li><p>Run the test. It should fail. (RED)</p>
</li>
<li><p>Write code that passes test. (GREEN)</p>
<ul>
<li>Implementation is certifiably good!</li>
</ul>
</li>
<li><p>Optional: Refactor code to make it faster, cleaner, etc.</p>
<p><img src="/../images/java-notes/java4.png" alt="unit test process"></p>
</li>
<li><p>JUnit makes testing easy.</p>
<ul>
<li>You should write tests.<br>But not too many.<br>Only when they might be useful!</li>
<li>Write tests first when it feels appropriate [I do this a lot].<br>Lab 3, Project 1B, and Project 2 will give you practice!<br>Most of the class won’t require writing lots of tests (to save you time).</li>
</ul>
</li>
</ul>
<h4 id="Sample-Runner-Pseudocode"><a href="#Sample-Runner-Pseudocode" class="headerlink" title="Sample Runner Pseudocode"></a><strong>Sample Runner Pseudocode</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Method&gt; L = getMethodsWithAnnotation(TestSort.class,      </span><br><span class="line">                                            org.junit.Test);</span><br><span class="line"><span class="type">int</span> <span class="variable">numTests</span> <span class="operator">=</span> L.size();</span><br><span class="line"><span class="type">int</span> <span class="variable">numPassed</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (Method m : L) &#123;</span><br><span class="line">    <span class="type">result</span> <span class="variable">r</span> <span class="operator">=</span> m.execute();</span><br><span class="line">    <span class="keyword">if</span> (r.passed == <span class="literal">true</span>) &#123; numPassed += <span class="number">1</span>; &#125;</span><br><span class="line">    <span class="keyword">if</span> (r.passed == <span class="literal">false</span>) &#123; System.out.println(r.message); &#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(numPassed + “/” + numTests + “ passed!”);</span><br></pre></td></tr></table></figure>

<h2 id="Primitive-Types-and-Data-structures"><a href="#Primitive-Types-and-Data-structures" class="headerlink" title="Primitive Types and Data structures"></a>Primitive Types and Data structures</h2><h4 id="Declaring-a-variable"><a href="#Declaring-a-variable" class="headerlink" title="Declaring a variable:"></a>Declaring a variable:</h4><p>When you declare a variable of a certain type in Java: Your computer sets aside exactly enough bits to hold a thing of that type. </p>
<p>Example: Declaring an int sets aside a “box” of 32 bits. </p>
<p>Example: Declaring a double sets aside a box of 64 bits.</p>
<p> Java creates an internal table that maps each variable name to a location. Java does NOT write anything into the reserved boxes. For safety, Java will not let access a variable that is uninitialized.</p>
<p><strong>The Golden Rule of Equals (GRoE)</strong></p>
<p>Given variables y and x:<br>y &#x3D; x copies all the bits from x into y.</p>
<p><strong>Reference Types</strong></p>
<h4 id="Declaring-a-class"><a href="#Declaring-a-class" class="headerlink" title="Declaring a class:"></a>Declaring a class:</h4><p>When we instantiate an Object (e.g. Dog, Walrus, Planet):</p>
<p>Java first allocates a box of bits for each instance variable of the class and fills them with a default value (e.g. 0, null).</p>
<p>The constructor then usually fills every such box with some other value.</p>
<p><strong>Reference Types Obey the Golden Rule of Equals</strong></p>
<p>Just as with primitive types, the equals sign copies the bits. In terms of our visual metaphor, we “copy” the <em>arrow</em> by making the arrow in the b box point at the same instance as a.</p>
<h4 id="Declaration-and-Instantiation-of-Arrays"><a href="#Declaration-and-Instantiation-of-Arrays" class="headerlink" title="Declaration and Instantiation of Arrays"></a><strong>Declaration and Instantiation of Arrays</strong></h4><p>Arrays are also Objects. As we’ve seen, objects are (usually) instantiated using the new keyword. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] x = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">95</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="type">Planet</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Planet</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, “blah.png”);</span><br></pre></td></tr></table></figure>

<p><strong>Note: Instantiated objects can be lost!</strong><br>If we were to reassign a to something else, we’d never be able to get the original Object back!</p>
<h4 id="IntList"><a href="#IntList" class="headerlink" title="IntList"></a>IntList</h4><p>we need the following member variables and methods</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IntList</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> first;</span><br><span class="line">   <span class="keyword">public</span> IntList rest;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">IntList</span><span class="params">(<span class="type">int</span> f, IntList r)</span> &#123;</span><br><span class="line">      first = f;</span><br><span class="line">      rest = r;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">/** Return the size of this IntList. */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (rest == <span class="literal">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">   	<span class="keyword">return</span> <span class="number">1</span> + <span class="built_in">this</span>.rest.size();</span><br><span class="line">   ...</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Improvements-on-IntList-and-Data-safety"><a href="#Improvements-on-IntList-and-Data-safety" class="headerlink" title="Improvements on IntList and Data safety"></a>Improvements on IntList and Data safety</h2><p>While functional, **“naked” **linked lists like the one above are hard to use. Users of this class are probably going to need to know references very well, and be able to think recursively. Let’s make our users’ lives easier.</p>
<h4 id="Step-I-Rebranding-and-Culling"><a href="#Step-I-Rebranding-and-Culling" class="headerlink" title="Step I:Rebranding and Culling"></a><strong>Step I:Rebranding and Culling</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IntNode</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> item;</span><br><span class="line">   <span class="keyword">public</span> IntNode next;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">IntNode</span><span class="params">(<span class="type">int</span> i, IntNode n)</span> &#123;</span><br><span class="line">      item = i;</span><br><span class="line">      next = n;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// we will reintroduce functionality in the next part</span></span><br></pre></td></tr></table></figure>

<h4 id="Step-II-Bureaucracy"><a href="#Step-II-Bureaucracy" class="headerlink" title="Step II: Bureaucracy"></a>Step II: <strong>Bureaucracy</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IntNode</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> item;</span><br><span class="line">   <span class="keyword">public</span> IntNode next;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">IntNode</span><span class="params">(<span class="type">int</span> i, IntNode n)</span> &#123;</span><br><span class="line">      item = i;</span><br><span class="line">      next = n;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SLList</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> IntNode first;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SLList</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        first = <span class="keyword">new</span> <span class="title class_">IntNode</span>(x, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../images/java-notes/java5.png" alt="The Final Trial"></p>
<p>While functional, “naked” linked lists like the IntList class are hard to use.</p>
<ul>
<li>Users of IntList are need to know Java references well, and be able to think recursively. </li>
<li>SLList is much simpler to use. Simply use the provided methods.</li>
<li>Why not just add an addFirst method to the IntList class? Turns out there is no efficient way to do this. See exercises in lectureCode repository.</li>
</ul>
<p><img src="/../images/java-notes/java6.png" alt="the visual structure"></p>
<h4 id="Step-III-Access-Control"><a href="#Step-III-Access-Control" class="headerlink" title="Step III: Access Control"></a><strong>Step III: Access Control</strong></h4><p>We can prevent programmers from making such mistakes with the <strong>private</strong> keyword.</p>
<p>Hide implementation details from users of your class.</p>
<ul>
<li>Less for user of class to understand.</li>
<li>Safe for you to change private methods (implementation).</li>
</ul>
<p>Car analogy:</p>
<ul>
<li>Public: Pedals, Steering Wheel    </li>
<li>Private: Fuel line, Rotary valve</li>
</ul>
<h4 id="Step-IV-Nested-Classes"><a href="#Step-IV-Nested-Classes" class="headerlink" title="Step IV: Nested Classes"></a>Step IV: Nested Classes</h4><p>Nested Classes are useful when a class doesn’t stand on its own and is obviously subordinate to another class. </p>
<p>Make the nested class private if other classes should never use the nested class.<br>In my opinion, probably makes sense to make IntNode a nested private class. Hard to imagine other classes having a need to manipulate IntNodes.</p>
<p><strong>Static Nested Classes</strong></p>
<p>If the class don’t need to call any variables outside , you can make it static</p>
<p>Static classes cannot access outer class’s instance variables or methods.<br>Results in a minor savings of memory. See book for more details &#x2F; exercise.</p>
<h4 id="addLast-and-size"><a href="#addLast-and-size" class="headerlink" title="addLast() and size()"></a>addLast() and size()</h4><p>Create a private recursive helper method.</p>
<p>Have the public method call the private recursive helper method.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SLList</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">(IntNode p)</span> &#123;</span><br><span class="line">    	<span class="keyword">if</span> (p.next == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    	&#125;</span><br><span class="line"> </span><br><span class="line">    	<span class="keyword">return</span> <span class="number">1</span> + size(p.next);</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">    	<span class="keyword">return</span> size(first);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Step-V-Fast-size"><a href="#Step-V-Fast-size" class="headerlink" title="Step V: Fast size()"></a>Step V: Fast size()</h4><p>Solution: Maintain a special size variable that caches the size of the list.<br>Caching: putting aside data to speed up retrieval.</p>
<p><strong>TANSTAAFL</strong>: There ain’t no such thing as a free lunch.<br>But spreading the work over each add call is a net win in almost any circumstance.</p>
<h4 id="Step-VI-Representing-the-Empty-List"><a href="#Step-VI-Representing-the-Empty-List" class="headerlink" title="Step VI: Representing the Empty List"></a>Step VI: <strong>Representing the Empty List</strong></h4><p>When the List is empty, we may find error when add last. So one solution is to add a judgement when addLast , though making the whole function look worse. So we come up with another idea：</p>
<p><strong>Sentinel Nodes</strong></p>
<p>Notes:</p>
<ul>
<li>I’ve renamed first to be sentinel.</li>
<li>sentinel is never null, always points to sentinel node.</li>
<li>Sentinel node’s item needs to be some integer, but doesn’t matter what value we pick.</li>
<li>Had to fix constructors and methods to be compatible with sentinel nodes.</li>
</ul>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Non-Obvious Improvements</th>
</tr>
</thead>
<tbody><tr>
<td>addFirst(int x)</td>
<td>Rebranding: IntList → IntNode</td>
</tr>
<tr>
<td>getFirst</td>
<td>Bureaucracy: SLList</td>
</tr>
<tr>
<td>size</td>
<td>Access Control: public → private</td>
</tr>
<tr>
<td>addLast(int x)</td>
<td>Nested Class: Bringing IntNode into SLList</td>
</tr>
<tr>
<td></td>
<td>Caching: Saving size as an int</td>
</tr>
<tr>
<td></td>
<td>Generalizing: Adding a sentinel node to allow representation of the empty list.</td>
</tr>
</tbody></table>
<h2 id="DLList-and-Other-Trials"><a href="#DLList-and-Other-Trials" class="headerlink" title="DLList and Other Trials"></a>DLList and Other Trials</h2><h4 id="Step-VII-Modify-addLast"><a href="#Step-VII-Modify-addLast" class="headerlink" title="Step VII: Modify addLast"></a>Step VII: Modify addLast</h4><p>On first thought, we tend to only add a .last, so w e can get the last fast , but then it becomes hard to remove.</p>
<p>We added .last. What other changes might we make so that remove is also fast?<br>Add backwards links from every node.<br>This yields a “<strong>doubly linked list</strong>” or DLList, as opposed to our earlier “singly linked list” or SLList.</p>
<h4 id="Step-VIII-fancier-sentinel-nodes"><a href="#Step-VIII-fancier-sentinel-nodes" class="headerlink" title="Step VIII: fancier sentinel nodes"></a>Step VIII: fancier sentinel nodes</h4><p>While fast, adding .last and .prev introduces lots of special cases.<br>To avoid these, either: Add an additional sentBack sentinel at the end of the list. Make your linked list circular (highly recommended for project 1), with a single sentinel in the middle.</p>
<h4 id="Generic-泛型-List"><a href="#Generic-泛型-List" class="headerlink" title="Generic(泛型) List"></a>Generic(泛型) List</h4><p>We might notice that our list only support Integers while we need to rewrite the whole class while we need other data types.</p>
<p>We’ll spend a lot more time with generics later, but here are the rules of thumb you’ll need for project 1:</p>
<ul>
<li>In the .java file implementing your data structure, specify your “generic type” only once at the very top of the file.</li>
<li>In .java files that use your data structure, specify desired type once:<br>Write out desired type during declaration.</li>
<li>Use the empty diamond operator &lt;&gt; during instantiation.When declaring or instantiating your data structure, <strong>use the reference type.</strong><ul>
<li>int: Integer</li>
<li>double: Double</li>
<li>char: Character</li>
<li>boolean: Boolean</li>
<li>long: Long<br>etc.</li>
</ul>
</li>
</ul>
<p>DLList&lt;**Double**&gt; s1 &#x3D; <strong>new</strong> DLList&lt;&gt;(5.3);<br>double x &#x3D; 9.3 + 15.2;s1.insertFront(x);</p>
<h4 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h4><p>Arrays consist of:</p>
<p>​	A fixed integer length (cannot change!)<br>​	A sequence of N memory boxes where N&#x3D;length, such that:<br>​	All of the boxes hold the same type of value (and have same # of bits).<br>​	The boxes are numbered 0 through length-1.</p>
<p>Like instances of classes:<br>    You get one reference when its created.<br>    If you reassign all variables containing that reference, you can never get the array back.</p>
<p>Unlike classes:</p>
<p>​	Do not have methods.</p>
<p>Arrays and Classes can both be used to organize a bunch of memory boxes.</p>
<ul>
<li>Array boxes are accessed using [] notation.</li>
<li>Class boxes are accessed using dot notation.</li>
<li>Array boxes must all be of the same type.</li>
<li>Class boxes may be of different types.</li>
<li>Both have a fixed number of boxes.</li>
</ul>
<h2 id="Naive-AList"><a href="#Naive-AList" class="headerlink" title="Naive AList"></a>Naive AList</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AList</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span>[] items;    </span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">AList</span><span class="params">()</span> &#123;</span><br><span class="line">    items = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100</span>];  size = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addLast</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    items[size] = x;</span><br><span class="line">    size += <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getLast</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> items[size - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> items[i];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> size;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>So how to remove Last?</p>
<p>When we removeLast(), which memory boxes need to change? To what?-</p>
<p>​	User’s mental model: {5, 3, 1, 7, 22, -1} → {5, 3, 1, 7, 22}</p>
<p>​	<img src="/../images/java-notes/java7.png" alt="abstract process"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">removeLast</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">returnItem</span> <span class="operator">=</span> items[size - <span class="number">1</span>];</span><br><span class="line">  items[size - <span class="number">1</span>] = <span class="number">0</span>;<span class="comment">//not necessary</span></span><br><span class="line">  size -= <span class="number">1</span>;  	</span><br><span class="line">  <span class="keyword">return</span> returnItem;</span><br><span class="line">&#125;    </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Resizing-Array"><a href="#Resizing-Array" class="headerlink" title="Resizing Array"></a>Resizing Array</h4><p>When the array gets too full, e.g. addLast(11), just make a new array:</p>
<ul>
<li>int[] a &#x3D; new int[size+1];</li>
</ul>
<p>the improving should be all-around and considering its influence</p>
<blockquote>
<p>works</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addLast</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (size == items.length) &#123;</span><br><span class="line">    <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[size + <span class="number">1</span>];</span><br><span class="line">    System.arraycopy(items, <span class="number">0</span>, a, <span class="number">0</span>, size);</span><br><span class="line">    items = a;  	</span><br><span class="line">  &#125;</span><br><span class="line">  items[size] = x;</span><br><span class="line">  size += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">private void resize(int capacity) &#123;</span><br><span class="line">  int[] a = new int[capacity];</span><br><span class="line">  System.arraycopy(items, 0, a, 0, size);</span><br><span class="line">  items = a;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">public void addLast(int x) &#123;</span><br><span class="line">  if (size == items.length) &#123;</span><br><span class="line">	resize(size + 1);</span><br><span class="line">  &#125;</span><br><span class="line">  items[size] = x;</span><br><span class="line">  size += 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>much better</p>
</blockquote>
<p>but its to slow and occupy to many memory in total</p>
<p>Geometric resizing is much faster: Just how much better will have to wait.</p>
<p>like this:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addLast</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (size == items.length) &#123;</span><br><span class="line">	resize(size * RFACTOR);</span><br><span class="line">  &#125;</span><br><span class="line">  items[size] = x;</span><br><span class="line">  size += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>An AList should not only be efficient in time, but also efficient in space. Define the “usage ratio” R &#x3D; size &#x2F; items.length; </p>
<p>Typical solution: Half array size when R &lt; 0.25.</p>
<p>More details in a few weeks.</p>
<h4 id="Generic-Alists"><a href="#Generic-Alists" class="headerlink" title="Generic Alists"></a>Generic Alists</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AList</span>&lt;Glorp&gt; &#123;</span><br><span class="line">  <span class="keyword">private</span> Glorp[] items;    </span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">AList</span><span class="params">()</span> &#123;</span><br><span class="line">    items = (Glorp []) <span class="keyword">new</span> <span class="title class_">Object</span>[<span class="number">8</span>];  </span><br><span class="line">    size = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resize</span><span class="params">(<span class="type">int</span> cap)</span> &#123;</span><br><span class="line">    Glorp[] a = (Glorp []) <span class="keyword">new</span> <span class="title class_">Object</span>[cap];</span><br><span class="line">    System.arraycopy(items, <span class="number">0</span>, </span><br><span class="line">                     a, <span class="number">0</span>, size);</span><br><span class="line">    items = a;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> Glorp <span class="title function_">get</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> items[i];</span><br><span class="line">  &#125;</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>null out unnecessary items</strong></p>
<p>Unlike integer based ALists, we actually want to null out deleted items. Java only destroys unwanted objects when the last reference has been lost. Keeping references to unneeded objects is sometimes called loitering. Save memory. Don’t loiter.</p>
<h4 id="Obscurantism-in-Java"><a href="#Obscurantism-in-Java" class="headerlink" title="Obscurantism in Java"></a><strong>Obscurantism in Java</strong></h4><p>We talk of “layers of abstraction” often in computer science.<br>Related concept: obscurantism. The user of a class does not and should not know how it works.<br>The Java language allows you to enforce this with ideas like private!<br>A good programmer obscures details from themselves, even within a class.<br>Example: addFirst and resize should be written totally independently. You should not be thinking about the details of one method while writing the other. Simply trust that the other works.<br>Breaking programming tasks down into small pieces (especially functions) helps with this greatly!<br>Through judicious use of testing, we can build confidence in these small pieces, as we’ll see in the next lecture.</p>
<h2 id="Inheritance-Implements-Interface"><a href="#Inheritance-Implements-Interface" class="headerlink" title="Inheritance, Implements &amp; Interface"></a>Inheritance, Implements &amp; Interface</h2><p>Firstly, let’s talk about override and override,</p>
<h3 id="Overload-重写-and-Override-重写"><a href="#Overload-重写-and-Override-重写" class="headerlink" title="Overload(重写) and Override(重写)"></a>Overload(重写) and Override(重写)</h3><p>In Java, both override and overload are used to define a new behavior for a method. However, they have different meanings and use cases.</p>
<p>Override:<br>When a subclass provides its own implementation for a method that is already present in its superclass, it is called method overriding. The new implementation of the methOverrideod in the subclass is said to override the implementation in the superclass. The signature of the overridden method must be the same as the method in the superclass, including the method name, return type, and parameter list.</p>
<p>Example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    public void makeSound() &#123;</span><br><span class="line">        System.out.println(&quot;Some animal sound&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void makeSound() &#123;</span><br><span class="line">        System.out.println(&quot;Bark&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the above example, the <code>Dog</code> class overrides the <code>makeSound()</code> method of the <code>Animal</code> class to provide its own implementation.</p>
<p>Overload:<br>When a class has multiple methods with the same name but different parameters, it is called method overloading. The methods must have the same name but different parameter lists. The return type of the method can be different, but it is not considered when overloading a method.</p>
<p>Example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class Calculator &#123;</span><br><span class="line">    public int add(int a, int b) &#123;</span><br><span class="line">        return a + b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int add(int a, int b, int c) &#123;</span><br><span class="line">        return a + b + c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the above example, the <code>Calculator</code> class has two methods with the same name <code>add()</code>, but with different parameter lists. This is an example of method overloading.</p>
<p>n 61b, we’ll always mark every overriding method with the <strong>@Override</strong> annotation. </p>
<p>Example: Mark AList.java’s overriding methods with <strong>@Override</strong>. The only effect of this tag is that the code won’t compile if it is not actually an overriding method.</p>
<p>In Java, inheritance and implements are two essential object-oriented programming (OOP) concepts that allow you to create new classes based on existing ones. They promote reuse of code and help you design a more organized and maintainable application.</p>
<h3 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h3><p>Inheritance is a mechanism that enables one class to inherit properties (fields) and methods from another class. The class that is being inherited is called the superclass or parent class, and the class that inherits the superclass is called the subclass or derived class.</p>
<p>In Java, you use the <code>extends</code> keyword to establish an inheritance relationship between two classes.</p>
<p><strong>Syntax:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Subclass</span> <span class="keyword">extends</span> <span class="title class_">Superclass</span> &#123;</span><br><span class="line">    <span class="comment">// subclass fields and methods</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>When a subclass inherits a superclass, it has access to:</p>
<ul>
<li>All public and protected fields of the superclass</li>
<li>All public and protected methods of the superclass</li>
</ul>
<p>The subclass can also add new fields and methods or override existing methods. However, it cannot inherit the superclass’s private fields and methods directly.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Superclass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;The animal makes a sound&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Subclass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name); <span class="comment">// call the superclass constructor</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;The dog barks&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;Buddy&quot;</span>);</span><br><span class="line">        dog.makeSound(); <span class="comment">// Output: The dog barks</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Implements"><a href="#Implements" class="headerlink" title="Implements"></a>Implements</h3><p>Java does not support multiple inheritance among classes, but it does allow a class to implement multiple interfaces. An interface is a collection of abstract methods (methods without a body) that can be implemented by any class.</p>
<p>To implement an interface, a class must use the <code>implements</code> keyword and provide a body for all the abstract methods declared in the interface. A class can implement multiple interfaces by separating them with a comma.</p>
<p><strong>Syntax:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">InterfaceName</span> &#123;</span><br><span class="line">    <span class="comment">// abstract methods</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassName</span> <span class="keyword">implements</span> <span class="title class_">InterfaceName</span> &#123;</span><br><span class="line">    <span class="comment">// provide implementation for abstract methods</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Interface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Drawable</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Class implementing the interface</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">Drawable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Drawing a circle with radius: &quot;</span> + radius);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Circle</span> <span class="variable">circle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">5.0</span>);</span><br><span class="line">        circle.draw(); <span class="comment">// Output: Drawing a circle with radius: 5.0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the <code>Circle</code> class implements the <code>Drawable</code> interface and provides an implementation for the <code>draw</code> method.</p>
<p>In summary, inheritance in Java allows you to create new classes by extending existing ones, while the <code>implements</code> keyword enables a class to implement one or more interfaces. Both concepts promote code reusability and help you design more organized and maintainable applications.</p>
<h3 id="Interface"><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h3><p>In Java, an interface is a collection of <strong>abstract methods</strong> and constants, which are defined without an implementation. An interface can be thought of as a contract or a blueprint for a class to implement. It specifies a set of methods and properties that a class must implement in order to be considered an implementation of that interface.</p>
<p>An interface can be declared using the <code>interface</code> keyword, followed by the name of the interface and its members. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public interface MyInterface &#123;</span><br><span class="line">    void method1();</span><br><span class="line">    void method2();</span><br><span class="line">    int CONSTANT = 10;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>MyInterface</code> declares two abstract methods <code>method1()</code> and <code>method2()</code>, and a constant <code>CONSTANT</code>. Any class that implements <code>MyInterface</code> must provide an implementation of these two methods, and can access the constant <code>CONSTANT</code>.</p>
<p>To implement an interface in a class, the <code>implements</code> keyword can be used. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class MyClass implements MyInterface &#123;</span><br><span class="line">    public void method1() &#123;</span><br><span class="line">        // implementation of method1</span><br><span class="line">    &#125;</span><br><span class="line">    public void method2() &#123;</span><br><span class="line">        // implementation of method2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>MyClass</code> implements <code>MyInterface</code> and provides an implementation for the <code>method1()</code> and <code>method2()</code> methods. Once a class implements an interface, it must provide an implementation for all of the abstract methods defined in the interface.</p>
<p>One of the key benefits of interfaces is that they allow for polymorphism. This means that an object of a class that implements an interface can be treated as an instance of that interface. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MyInterface obj = new MyClass();</span><br><span class="line">obj.method1();</span><br></pre></td></tr></table></figure>

<p>In this example, <code>obj</code> is an instance of <code>MyClass</code>, but it is treated as an instance of <code>MyInterface</code>. This allows for greater flexibility in designing code, as different implementations of an interface can be used interchangeably.</p>
<p>In addition to abstract methods and constants, an interface can also contain default methods and static methods, which provide a default implementation and can be called without an instance of the interface, respectively. Default methods were introduced in Java 8, and static methods in Java 8 and later versions.</p>
<p>So in java ,  an interface give lots of abstract methods and constants , while needing a class to implement them</p>
<h2 id="Extends-Casting-higher-order-functions"><a href="#Extends-Casting-higher-order-functions" class="headerlink" title="Extends, Casting, higher order functions"></a>Extends, Casting, higher order functions</h2><p>In Java, the <code>extends</code> keyword is used to create a subclass that inherits properties and methods from a superclass. The subclass can access all the non-private members (methods and variables) of the superclass, and it can also override inherited methods or define new methods.</p>
<p>For example, let’s say we have a <code>Vehicle</code> class with properties like <code>make</code>, <code>model</code>, and <code>year</code>. We can create a <code>Car</code> class that extends <code>Vehicle</code> and adds properties like <code>numDoors</code> and <code>driveType</code>. The <code>Car</code> class can also inherit and override methods from <code>Vehicle</code>.</p>
<p>Here’s an example code snippet:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String make;</span><br><span class="line">    <span class="keyword">private</span> String model;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Constructor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Vehicle</span><span class="params">(String make, String model, <span class="type">int</span> year)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.make = make;</span><br><span class="line">        <span class="built_in">this</span>.model = model;</span><br><span class="line">        <span class="built_in">this</span>.year = year;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter methods</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMake</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> make;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getModel</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> model;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYear</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> year;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Other methods</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">startEngine</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Starting engine...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> <span class="keyword">extends</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> numDoors;</span><br><span class="line">    <span class="keyword">private</span> String driveType;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Constructor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String make, String model, <span class="type">int</span> year, <span class="type">int</span> numDoors, String driveType)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(make, model, year);</span><br><span class="line">        <span class="built_in">this</span>.numDoors = numDoors;</span><br><span class="line">        <span class="built_in">this</span>.driveType = driveType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter methods</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getNumDoors</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> numDoors;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDriveType</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> driveType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Override inherited method</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">startEngine</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Starting car engine...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// New method</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drift</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Drifting...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>Car</code> is a subclass of <code>Vehicle</code> and inherits the properties <code>make</code>, <code>model</code>, and <code>year</code>. It also adds two new properties, <code>numDoors</code> and <code>driveType</code>. The <code>Car</code> class overrides the <code>startEngine()</code> method from <code>Vehicle</code> to provide its own implementation, and it also adds a new method <code>drift()</code>.</p>
<p>In Java, the <code>super</code> keyword is used to refer to the superclass of a subclass. It can be used to call the constructor, methods, and properties of the superclass from the subclass.</p>
<h5 id="Tips-Any-subclasses-construct-must-include-the-superclass-constructer"><a href="#Tips-Any-subclasses-construct-must-include-the-superclass-constructer" class="headerlink" title="Tips: Any subclasses construct must include the superclass constructer"></a>Tips: Any subclasses construct must include the superclass constructer</h5><p>so if you want to make a new constructor , be sure to use the superclass constructor first</p>
<p>In Java, all objects inherit certain default methods from the Object class. These default methods are:</p>
<ol>
<li>equals(Object obj): This method is used to compare two objects and check if they are equal. It returns a boolean value: true if the objects are equal, and false otherwise.</li>
<li>hashCode(): This method returns an integer value that represents the hash code of the object. The hash code is used to identify the object and is used in hash-based data structures such as HashMap.</li>
<li>toString(): This method returns a string representation of the object. By default, this method returns the class name followed by the object’s hash code.</li>
<li>getClass(): This method returns the class object of the current object.</li>
<li>finalize(): This method is called by the garbage collector before an object is destroyed. By default, this method does nothing, but it can be overridden by a subclass to perform cleanup operations.</li>
</ol>
<p>It’s worth noting that these methods can be overridden by subclasses to provide their own implementation. In addition, the Object class also provides other methods such as wait(), notify(), and notifyAll() that are used for thread synchronization, but these methods are not considered default methods as they are not inherited by all objects.</p>
<h3 id="Encapsulation"><a href="#Encapsulation" class="headerlink" title="Encapsulation"></a>Encapsulation</h3><blockquote>
<p> Design for change.			D. Parnas       </p>
</blockquote>
<p>Here’s an example of how encapsulation can make code more flexible:</p>
<p>Suppose we have a <code>BankAccount</code> class that represents a bank account. The <code>BankAccount</code> class has a <code>balance</code> field that represents the current balance of the account, and it has a <code>deposit</code> method that allows users to deposit money into the account:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BankAccount</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deposit</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">        balance += amount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now suppose we want to change the implementation of the <code>BankAccount</code> class to use a different data structure to store the balance, such as a <code>BigDecimal</code> instead of a <code>double</code>. If we had exposed the <code>balance</code> field directly, we would need to modify any code that accesses the <code>balance</code> field directly, which could be time-consuming and error-prone.</p>
<p>However, because we used encapsulation and made the <code>balance</code> field <code>private</code>, we can change the implementation of the <code>BankAccount</code> class without affecting any external code that uses the class. All we need to do is modify the <code>deposit</code> method to work with the new data structure:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BankAccount</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> BigDecimal balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deposit</span><span class="params">(BigDecimal amount)</span> &#123;</span><br><span class="line">        balance = balance.add(amount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>By encapsulating the internal state of the <code>BankAccount</code> class and exposing only a well-defined interface, we were able to make our code more flexible and maintainable. Without encapsulation, making changes to the internal implementation of a class could be much more difficult and error-prone.</p>
<h3 id="Type-safety"><a href="#Type-safety" class="headerlink" title="Type safety"></a>Type safety</h3><p>In Java, every variable, expression, and method call has a static type, also known as the compile-time type. The compile-time type is determined when the code is compiled and it determines which methods and properties are accessible for that variable, expression, or method call. The compile-time type is important information used by the compiler and IDEs (Integrated Development Environments) for type checking and code analysis.</p>
<p>At runtime, Java also has a dynamic type, which is determined based on the actual object type. The dynamic type determines which methods and properties can be called on that object instance.</p>
<p>To express the compile-time type of a variable, we use the syntax <code>TypeName variableName;</code>. For example, we can declare a variable of type <code>int</code> like this: <code>int num;</code>.</p>
<p>To express the runtime type of an object, we use the <code>instanceof</code> operator, which checks whether an object is an instance of a particular class or an interface. For example, we can check whether an object <code>obj</code> is an instance of the <code>String</code> class like this: <code>if (obj instanceof String) &#123; ... &#125;</code>.</p>
<p>Overall, understanding compile-time and runtime types is important for writing correct and efficient Java code, as well as for debugging and troubleshooting errors.</p>
<h4 id="Dynamic-Method-Selection"><a href="#Dynamic-Method-Selection" class="headerlink" title="Dynamic Method Selection"></a>Dynamic Method Selection</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">   	VengefulSLList&lt;Integer&gt; vsl = </span><br><span class="line">          <span class="keyword">new</span> <span class="title class_">VengefulSLList</span>&lt;Integer&gt;(<span class="number">9</span>);</span><br><span class="line">   	SLList&lt;Integer&gt; sl = vsl;   </span><br><span class="line"></span><br><span class="line">	sl.addLast(<span class="number">50</span>);<span class="comment">//VengefulSLList doesn&#x27;t override so uses SLList&#x27;s</span></span><br><span class="line">   	sl.removeLast();<span class="comment">//uses VengefulSLList&#x27;s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../images/java-notes/java8.png" alt="hellk"></p>
<h2 id="Dynamic-type"><a href="#Dynamic-type" class="headerlink" title="Dynamic type"></a>Dynamic type</h2><p><img src="/../images/java-notes/java9.png" alt="example"></p>
<h1 id="Everything-about-Java"><a href="#Everything-about-Java" class="headerlink" title="Everything about Java"></a>Everything about Java</h1><p>[TOC]</p>
<h2 id="输入输出流方式"><a href="#输入输出流方式" class="headerlink" title="输入输出流方式"></a><strong>输入输出流方式</strong></h2><h3 id="1-Scanner-类"><a href="#1-Scanner-类" class="headerlink" title="1.Scanner 类"></a>1.<strong>Scanner 类</strong></h3><p>在 Java 中，<code>Scanner</code> 是一个类，用于读取用户的输入或者文件中的数据。<code>Scanner</code> 可以读取各种数据类型的输入，比如整数、浮点数、字符串等等。</p>
<p>以下是 <code>Scanner</code> 类的常用方法：</p>
<ul>
<li><code>next()</code>: 读取输入的下一个字符串，以空格为分隔符。</li>
<li><code>nextInt()</code>: 读取输入的下一个整数。</li>
<li><code>nextDouble()</code>: 读取输入的下一个双精度浮点数。</li>
<li><code>nextLine()</code>: 读取输入的下一行文本。</li>
<li><code>hasNext()</code>: 判断输入中是否还有下一个输入项。</li>
<li><code>close()</code>: 关闭 <code>Scanner</code> 对象。</li>
</ul>
<p>下面是一个简单的例子，演示了如何使用 <code>Scanner</code> 从控制台读取用户输入的整数和字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScannerExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;请输入一个整数: &quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        System.out.println(<span class="string">&quot;您输入的整数是: &quot;</span> + num);</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;请输入一个字符串: &quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;您输入的字符串是: &quot;</span> + str);</span><br><span class="line"></span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码中，我们首先创建了一个 <code>Scanner</code> 对象 <code>scanner</code>，用于读取用户的输入。然后，我们通过 <code>nextInt()</code> 方法读取了用户输入的整数，通过 <code>next()</code> 方法读取了用户输入的字符串，最后使用 <code>close()</code> 方法关闭了 <code>Scanner</code> 对象。</p>
<p>运行这段代码时，程序会提示用户输入一个整数和一个字符串，然后将用户输入的数据输出到控制台上。</p>
<p>如果用户输入的不是整数，程序将会抛出一个 <code>InputMismatchException</code> 异常。如果您想要避免这种异常，可以使用 <code>hasNextInt()</code> 方法先判断一下输入是否为整数，例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (scanner.hasNextInt()) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;输入的不是整数&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样就可以避免因为用户输入错误而导致程序崩溃的问题。</p>
<h3 id="2-io流中的BufferedReader"><a href="#2-io流中的BufferedReader" class="headerlink" title="2.io流中的BufferedReader"></a>2.io流中的BufferedReader</h3><p>首先采用 BufferedReader reader &#x3D; new BufferedReader(new InputStreamReader(System.in));初始化</p>
<p>类似于type[] dimensions &#x3D; reader.readLine().split(“ “);可以分割地读取信息</p>
<blockquote>
<p>使用BufferedReader 读取文件实录</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReadFile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;filename.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(file));</span><br><span class="line">            String line;</span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                System.out.println(line);</span><br><span class="line">            &#125;</span><br><span class="line">            br.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Java 中的 BufferedReader 类是一个用于读取字符流的缓冲区，它继承自 Reader 类。下面是 BufferedReader 类中常用的方法：</p>
<p>read()：读取<strong>单个字符</strong>并返回它的 Unicode 值，如果到达流的末尾，则返回 -1。</p>
<p>read(char[] cbuf, int off, int len)：读取字符到指定的字符数组 cbuf 中，从 off 索引位置开始，最多读取 len 个字符。</p>
<p>readLine()：读取一行文本并返回<strong>字符串</strong>，如果到达流的末尾，则返回 null。</p>
<p>skip(long n)：跳过 n 个字符。</p>
<p>mark(int readAheadLimit)：在当前位置设置标记，readAheadLimit 参数指定可以在不失去标记的情况下读取的字符数。</p>
<p>reset()：将流的位置重置为最近的标记。</p>
<p>close()：关闭流并释放与之关联的所有系统资源。</p>
<h2 id="数据类型与类"><a href="#数据类型与类" class="headerlink" title="数据类型与类"></a><strong>数据类型与类</strong></h2><h3 id="3-String流"><a href="#3-String流" class="headerlink" title="3.String流"></a>3.String流</h3><p>创建字符串最简单的方式如下:	String str &#x3D; “Runoob”;</p>
<p>在代码中遇到字符串常量时，这里的值是 “Runoob”，编译器会使用该值创建一个 String 对象。和其它对象一样，可以使用关键字和构造方法来创建 String 对象。</p>
<p> 用构造函数创建字符串：String str2&#x3D;new String(“Runoob”);</p>
<p>下面是一些常用的 String 方法及其作用：</p>
<ol>
<li>length()：返回字符串的长度。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">int length = str.length(); // length = 11</span><br></pre></td></tr></table></figure>

<p>2.charAt(int index)：返回字符串中指定位置的字符。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">char ch = str.charAt(1); // ch = &#x27;e&#x27;</span><br></pre></td></tr></table></figure>

<p>3.substring(int beginIndex) 和 substring(int beginIndex, int endIndex)：分别返回从指定位置开始到字符串末尾的子串和指定范围内的子串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">String sub1 = str.substring(6); // sub1 = &quot;World&quot;</span><br><span class="line">String sub2 = str.substring(0, 5); // sub2 = &quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>3.indexOf(int ch) 和 indexOf(String str)：分别返回指定字符或字符串第一次出现的位置，如果没有找到，则返回 -1。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">int index1 = str.indexOf(&#x27;l&#x27;); // index1 = 2</span><br><span class="line">int index2 = str.indexOf(&quot;World&quot;); // index2 = 6</span><br></pre></td></tr></table></figure>

<p>4.contains(String str)：返回字符串是否包含指定的子串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">boolean contains = str.contains(&quot;World&quot;); // contains = true</span><br></pre></td></tr></table></figure>

<p>5.equals(Object obj) 和 equalsIgnoreCase(String anotherString)：分别比较字符串是否相等和忽略大小写后是否相等。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str1 = &quot;Hello World&quot;;</span><br><span class="line">String str2 = &quot;Hello world&quot;;</span><br><span class="line">boolean equals1 = str1.equals(str2); // equals1 = false</span><br><span class="line">boolean equals2 = str1.equalsIgnoreCase(str2); // equals2 = true</span><br></pre></td></tr></table></figure>

<p>6.toLowerCase() 和 toUpperCase()：分别返回字符串的小写形式和大写形式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">String lower = str.toLowerCase(); // lower = &quot;hello world&quot;</span><br><span class="line">String upper = str.toUpperCase(); // upper = &quot;HELLO WORLD&quot;</span><br></pre></td></tr></table></figure>

<p>7.trim()：返回去掉字符串首尾空格的字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;  Hello World  &quot;;</span><br><span class="line">String trimed = str.trim(); // trimed = &quot;Hello World&quot;</span><br></pre></td></tr></table></figure>

<p>8.replace(char oldChar, char newChar) 和 replace(CharSequence target, CharSequence replacement)：分别返回用新字符或字符串替换所有旧字符或字符串后的新字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">String replaced1 = str.replace(&#x27;l&#x27;, &#x27;L&#x27;); // replaced1 = &quot;HeLLo WorLd&quot;</span><br><span class="line">String replaced2 = str.replace(&quot;World&quot;, &quot;Java&quot;); // replaced2 = &quot;Hello Java&quot;</span><br></pre></td></tr></table></figure>

<p>9.startsWith(String prefix) 和 endsWith(String suffix)：分别返回字符串是否以指定的前缀或后缀开头&#x2F;结尾。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">boolean startsWith = str.startsWith(&quot;Hello&quot;); // startsWith = true</span><br><span class="line">boolean endsWith = str.endsWith(&quot;World&quot;); // endsWith = true</span><br></pre></td></tr></table></figure>

<p>10.compareTo(String anotherString) 和 compareToIgnoreCase(String str)：分别按字典顺序比较字符串，返回两个字符串的差值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str1 = &quot;Hello&quot;;</span><br><span class="line">String str2 = &quot;World&quot;;</span><br><span class="line">int result = str1.compareTo(str2); // result &lt; 0，因为 &#x27;H&#x27; 的 Unicode 值小于 &#x27;W&#x27;</span><br></pre></td></tr></table></figure>

<p>11.matches(String regex)：返回字符串是否匹配指定的正则表达式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">boolean matches = str.matches(&quot;Hello.*&quot;); // matches = true</span><br></pre></td></tr></table></figure>

<p>12.format(String format, Object… args)：根据指定的格式化字符串和参数返回一个格式化后的新字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String name = &quot;Alice&quot;;</span><br><span class="line">int age = 25;</span><br><span class="line">String formatted = String.format(&quot;My name is %s and I&#x27;m %d years old.&quot;, name, age);</span><br><span class="line">// formatted = &quot;My name is Alice and I&#x27;m 25 years old.&quot;</span><br></pre></td></tr></table></figure>

<p>13.valueOf(Object obj)：将任意类型的数据转换为字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int num = 42;</span><br><span class="line">String str = String.valueOf(num); // str = &quot;42&quot;</span><br></pre></td></tr></table></figure>

<p>14.getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin)：将指定范围内的字符复制到目标字符数组中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">char[] arr = new char[5];</span><br><span class="line">str.getChars(0, 5, arr, 0); // arr = [&#x27;H&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span><br></pre></td></tr></table></figure>

<p>15.isEmpty()：返回字符串是否为空，即长度为 0。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;&quot;;</span><br><span class="line">boolean isEmpty = str.isEmpty(); // isEmpty = true</span><br></pre></td></tr></table></figure>

<p>16.codePointAt(int index)：返回指定位置的 Unicode 码点。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello&quot;;</span><br><span class="line">int codePoint = str.codePointAt(1); // codePoint = 101，即 &#x27;e&#x27; 的 Unicode 码点</span><br></pre></td></tr></table></figure>

<h3 id="4-StringBuilder与StringBuffer类"><a href="#4-StringBuilder与StringBuffer类" class="headerlink" title="4.StringBuilder与StringBuffer类"></a>4.StringBuilder与StringBuffer类</h3><p>StringBuilder 和 StringBuffer 都是可变的字符序列，它们的作用类似于 String，但是它们允许在字符串中进行修改，而不会创建新的字符串对象。StringBuilder 和 StringBuffer 的主要区别在于线程安全性和性能。</p>
<p>StringBuilder 是线程不安全的，它的性能比 StringBuffer 更高。StringBuilder 主要提供了以下方法：</p>
<ol>
<li>append()：将指定的字符串或字符序列添加到当前 StringBuilder 对象末尾，并返回当前对象的引用。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder sb = new StringBuilder(&quot;Hello&quot;);</span><br><span class="line">sb.append(&quot; World&quot;); // sb = &quot;Hello World&quot;</span><br></pre></td></tr></table></figure>

<p>2.insert()：将指定的字符串或字符序列插入到当前 StringBuilder 对象的指定位置，并返回当前对象的引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder sb = new StringBuilder(&quot;Hello&quot;);</span><br><span class="line">sb.insert(2, &quot;l&quot;); // sb = &quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>3.delete() 和 deleteCharAt()：分别删除指定范围内的字符和指定位置的字符，并返回当前对象的引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder sb = new StringBuilder(&quot;Hello World&quot;);</span><br><span class="line">sb.delete(5, 11); // sb = &quot;Hello&quot;</span><br><span class="line">sb.deleteCharAt(1); // sb = &quot;Hllo&quot;</span><br></pre></td></tr></table></figure>

<p>4.replace()：将指定范围内的字符替换为指定的字符串或字符序列，并返回当前对象的引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder sb = new StringBuilder(&quot;Hello World&quot;);</span><br><span class="line">sb.replace(6, 11, &quot;Java&quot;); // sb = &quot;Hello Java&quot;</span><br></pre></td></tr></table></figure>

<p>5.reverse()：将当前 StringBuilder 对象中的字符序列反转，并返回当前对象的引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder sb = new StringBuilder(&quot;Hello World&quot;);</span><br><span class="line">sb.reverse(); // sb = &quot;dlroW olleH&quot;</span><br></pre></td></tr></table></figure>

<p>6.capacity()：返回当前 StringBuilder 对象的容量，即可用于存储字符的空间大小。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder sb = new StringBuilder(&quot;Hello World&quot;);</span><br><span class="line">int capacity = sb.capacity(); // capacity &gt; 11，因为 StringBuilder 会预留一定的空间</span><br></pre></td></tr></table></figure>

<p>除了上述方法，StringBuilder 还继承了 Object 类的一些方法，例如 toString()、equals() 等。</p>
<p>和 StringBuilder 不同，StringBuffer 是线程安全的，因此在多线程环境中使用 StringBuffer 更为安全。它的方法和 StringBuilder 是类似的，但是 StringBuffer 的性能相对较低，因为它需要进行同步操作来保证线程安全。因此，如果在单线程环境中使用，建议使用 StringBuilder，而在多线程环境中使用，应该使用 StringBuffer。</p>
<p>Q:</p>
<p>String可以用reverse颠倒吗？</p>
<p>A:</p>
<p>不可以，String 类是不可变的，因此它没有提供用于修改字符串的方法，包括 reverse() 方法。如果需要颠倒一个字符串，可以使用 StringBuilder 或 StringBuffer 的 reverse() 方法来实现。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">StringBuilder sb = new StringBuilder(str);</span><br><span class="line">sb.reverse();</span><br><span class="line">String reversed = sb.toString(); // reversed = &quot;dlroW olleH&quot;</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，先将字符串 “Hello World” 转换为 StringBuilder 对象 sb，然后调用 sb 的 reverse() 方法将其反转，最后将反转后的 StringBuilder 对象转换为字符串返回。</p>
<p>需要注意的是，由于 StringBuilder 和 StringBuffer 可以修改字符串，因此它们的 reverse() 方法会直接修改调用对象本身，而不是返回一个新的字符串。因此，在使用 reverse() 方法时应该注意是否需要保留原字符串。</p>
<p>当涉及到存储和操作多个相同类型的值时，Java 数组就是一个非常有用的数据结构。以下是一些和 Java 数组相关的内容和示例：</p>
<ol>
<li>定义数组</li>
</ol>
<p>在 Java 中，可以使用以下方式来定义数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 声明一个整型数组</span><br><span class="line">int[] numbers;</span><br><span class="line"></span><br><span class="line">// 声明并分配一个整型数组</span><br><span class="line">int[] numbers = new int[5];</span><br><span class="line"></span><br><span class="line">// 直接初始化一个整型数组</span><br><span class="line">int[] numbers = &#123;1, 2, 3, 4, 5&#125;;</span><br></pre></td></tr></table></figure>

<p>在第一种情况下，只是声明了一个整型数组的变量，但是没有为它分配内存空间。在第二种情况下，声明并分配了一个长度为 5 的整型数组。在第三种情况下，直接初始化了一个长度为 5 的整型数组，并且赋予了初始值。</p>
<p>2.访问数组元素</p>
<p>可以使用下标访问数组中的元素，下标从 0 开始。例如，要访问数组中的第一个元素，可以使用 numbers[0]。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int[] numbers = &#123;1, 2, 3, 4, 5&#125;;</span><br><span class="line">int first = numbers[0]; // first = 1</span><br><span class="line">int third = numbers[2]; // third = 3</span><br></pre></td></tr></table></figure>

<p>3.修改数组元素</p>
<p>可以使用下标来修改数组中的元素值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int[] numbers = &#123;1, 2, 3, 4, 5&#125;;</span><br><span class="line">numbers[0] = 6; // numbers = &#123;6, 2, 3, 4, 5&#125;</span><br></pre></td></tr></table></figure>

<p>4.遍历数组</p>
<p>可以使用 for 循环来遍历数组中的所有元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int[] numbers = &#123;1, 2, 3, 4, 5&#125;;</span><br><span class="line">for (int i = 0; i &lt; numbers.length; i++) &#123;</span><br><span class="line">    System.out.println(numbers[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，使用了 numbers.length 来获取数组的长度，从而遍历数组中的所有元素并输出。</p>
<p>5.多维数组</p>
<p>Java 中也支持多维数组。例如，可以使用以下方式定义一个二维数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">int[][] matrix = &#123;</span><br><span class="line">    &#123;1, 2, 3&#125;,</span><br><span class="line">    &#123;4, 5, 6&#125;,</span><br><span class="line">    &#123;7, 8, 9&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，定义了一个 3x3 的二维数组，并初始化了它的元素。</p>
<p>6.数组拷贝</p>
<p>Java 中可以使用 Arrays 类提供的 copyOf() 和 copyOfRange() 方法来拷贝数组。例如，可以使用以下方式来拷贝一个数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int[] source = &#123;1, 2, 3, 4, 5&#125;;</span><br><span class="line">int[] target = Arrays.copyOf(source, source.length);</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，使用 Arrays.copyOf() 方法将 source 数组拷贝到 target 数组中。</p>
<p>这些是和 Java 数组相关的一些内容和示例，希望能够帮助你更好地理解和使用 Java 数组。</p>
<p>补充方法：</p>
<ul>
<li><p><strong>public static int binarySearch(Object[] a, Object key)</strong></p>
<p>用二分查找算法在给定数组中搜索给定值的对象(Byte,Int,double等)。数组在调用前必须排序好的。如果查找值包含在数组中，则返回搜索键的索引；否则返回 (-(<em>插入点</em>) - 1)。</p>
</li>
<li><p><strong>public static void sort(Object[] a)</strong></p>
<p>对指定对象数组根据其元素的自然顺序进行升序排列。同样的方法适用于所有的其他基本数据类型（Byte，short，Int等）</p>
</li>
</ul>
<h2 id="数组等基本数据类型的内置方法"><a href="#数组等基本数据类型的内置方法" class="headerlink" title="数组等基本数据类型的内置方法"></a><strong>数组等基本数据类型的内置方法</strong></h2><h4 id="数组（主要是整形）"><a href="#数组（主要是整形）" class="headerlink" title="数组（主要是整形）"></a>数组（主要是整形）</h4><p>在Java中,数组类型(比如int[])有以下常用的内置方法:</p>
<ol>
<li><p>length:获取数组长度,比如int[] a &#x3D; {1, 2, 3}; a.length &#x3D;&#x3D; 3。</p>
</li>
<li><p>clone():拷贝数组,比如int[] b &#x3D; a.clone();。</p>
</li>
<li><p>toString():转换为字符串,比如a.toString() &#x3D;&#x3D; “[1, 2, 3]”。</p>
</li>
<li><p>equals():比较两个数组是否相等,需要元素也相等才会返回true。</p>
</li>
<li><p>hashCode():获取数组的哈希值,两个相等的数组hash值也相等。</p>
</li>
<li><p>sort():排序数组,比如int[] a &#x3D; {3, 1, 2}; a.sort(); 之后 a &#x3D;&#x3D; {1, 2, 3}。</p>
</li>
<li><p>binarySearch():二分查找,数组必须已排序,否则结果未定义。</p>
</li>
<li><p>copyOf():拷贝数组的一部分到新数组,比如int[] b &#x3D; Arrays.copyOf(a, 2); 仅拷贝a中的前两个元素。</p>
</li>
<li><p>asList():将数组转换为List,比如List<int> list &#x3D; Arrays.asList(a);。</p>
</li>
<li><p>stream() &#x2F; parallelStream():以顺序或并行流的方式处理数组,Java 8中新增。</p>
</li>
<li><p>fill():用指定值填充数组,比如a.fill(9);会使a变为{9, 9, 9}。</p>
</li>
<li><p>setAll():用指定函数设置所有元素的值,比如a.setAll(i -&gt; 2 * i); 会使a变为{0, 2, 4}。</p>
<p>除此之外,Java 8中还新增了一些方法来处理原始类型数组,比如:</p>
</li>
</ol>
<ul>
<li>spliterator():返回数组的Spliterator</li>
<li>forEach():遍历数组</li>
<li>reduce():聚合数组元素</li>
<li>count():统计数组元素出现次数</li>
<li>max()&#x2F;min():找出最大&#x2F;最小值<br>所以,通过上述丰富的方法,我们可以非常便捷地操作和处理数组,不需要编写很多迭代和循环代码。这也是Java语言中方法的强大之处。</li>
</ul>
<h4 id="String类型与StringBuilder类型"><a href="#String类型与StringBuilder类型" class="headerlink" title="String类型与StringBuilder类型"></a>String类型与StringBuilder类型</h4><p>String的常用方法有:</p>
<ol>
<li><p>length():获取字符串长度。</p>
</li>
<li><p>charAt():获取指定索引的字符。</p>
</li>
<li><p>substring():截取字符串。</p>
</li>
<li><p>indexOf():查找字符或字符串首次出现的索引。</p>
</li>
<li><p>lastIndexOf():查找字符或字符串最后一次出现的索引。</p>
</li>
<li><p>startsWith():判断字符串是否以某个前缀开头。</p>
</li>
<li><p>endsWith():判断字符串是否以某个后缀结尾。</p>
</li>
<li><p>equals():判断两个字符串是否相等。</p>
</li>
<li><p>equalsIgnoreCase():判断两个字符串是否相等,忽略大小写。</p>
</li>
<li><p>replace():替换字符串中的字符或子字符串。</p>
</li>
<li><p>split():按照分隔符将字符串分割为子字符串数组。</p>
</li>
<li><p>toLowerCase():将字符串转为小写。</p>
</li>
<li><p>toUpperCase():将字符串转为大写。</p>
</li>
<li><p>hashCode():获取字符串的哈希值。</p>
</li>
<li><p>compareTo():比较两字符串的顺序,返回负数、0或正数。</p>
<p>StringBuilder的常用方法有:</p>
</li>
<li><p>append():追加字符串或数据到StringBuilder中。</p>
</li>
<li><p>insert():在指定索引插入字符串或数据。</p>
</li>
<li><p>delete():删除字符序列。</p>
</li>
<li><p>reverse():反转StringBuilder中的字符序列。</p>
</li>
<li><p>capacity():获取StringBuilder的容量。</p>
</li>
<li><p>ensureCapacity():确保StringBuilder具有最小容量。</p>
</li>
<li><p>length():获取字符序列长度。</p>
</li>
<li><p>charAt():获取指定索引的字符。</p>
</li>
<li><p>setCharAt():设置指定索引的字符。</p>
</li>
<li><p>toString():将StringBuilder转换为String。<br>相比于String,StringBuilder更加适合进行字符串的构建和修改。因为StringBuilder的对象可以被多次修改,而String的对象一旦创建就不可变。<br>所以,当我们需要频繁修改字符串内容时,StringBuilder会更加高效。等字符串构建完成后,可以使用toString()方法转换为String使用。</p>
</li>
<li><pre><code class="java">String s = &quot;Hello World&quot;;
s.length(); // 11
s.charAt(6); // &#39;W&#39;
s.substring(6, 11); // &quot;World&quot;
s.indexOf(&quot;or&quot;); // 7
s.lastIndexOf(&quot;l&quot;); // 10
s.startsWith(&quot;He&quot;); // true
s.endsWith(&quot;ld&quot;); // true 
s.equals(&quot;Hello World&quot;); // true
s.equalsIgnoreCase(&quot;hello world&quot;); // true
s.replace(&quot;World&quot;, &quot;Java&quot;); // &quot;Hello Java&quot;
s.split(&quot; &quot;); // [&quot;Hello&quot;, &quot;World&quot;]
s.toLowerCase(); // &quot;hello world&quot;
s.toUpperCase(); // &quot;HELLO WORLD&quot;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">StringBuilder示例:</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">StringBuilder sb = new StringBuilder(&quot;Hello&quot;);</span><br><span class="line">sb.append(&quot; World&quot;); // sb = &quot;Hello World&quot;</span><br><span class="line">sb.insert(6, &quot;Java&quot;); // sb = &quot;Hello JavaWorld&quot; </span><br><span class="line">sb.delete(6, 11); // sb = &quot;Hello Java&quot;</span><br><span class="line">sb.reverse(); // sb = &quot;avaJ olleH&quot;</span><br><span class="line">sb.capacity(); // 16</span><br><span class="line">sb.ensureCapacity(20); // 容量变为20</span><br><span class="line">sb.length(); // 10</span><br><span class="line">sb.charAt(0); // &#x27;a&#x27;</span><br><span class="line">sb.setCharAt(0, &#x27;H&#x27;); // sb = &quot;HavaJ olleH&quot;</span><br><span class="line">String s = sb.toString(); // s = &quot;HavaJ olleH&quot;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ol>
<h2 id="Java-util详解"><a href="#Java-util详解" class="headerlink" title="Java.util详解"></a>Java.util详解</h2><p>java.util包中包含了很多常用的数据类型和方法,主要有:</p>
<ol>
<li>List接口及其实现类:<br>ArrayList、LinkedList、Vector等,用于存储列表数据。</li>
<li>Set接口及其实现类:<br>HashSet、TreeSet等,用于存储无序不重复的数据。</li>
<li>Map接口及其实现类:<br>HashMap、TreeMap、Hashtable等,用于存储键值对数据。</li>
<li>Iterator接口:<br>用于遍历集合元素,所有集合类都有自己的Iterator实现。</li>
<li>Comparator和Comparable接口:<br>用于排序,Comparator用于定制排序,Comparable表示可比较的意思。</li>
<li>Collections工具类:<br>提供了对集合进行操作的静态方法,如排序、查找、替换等。</li>
<li>Arrays工具类:<br>提供了数组相关的工具方法,如排序、查找、填充等。 </li>
<li>Date、Calendar、SimpleDateFormat:<br>用于日期和时间的处理。</li>
<li>Random:<br>用于生成随机数。</li>
<li>StringTokenizer:<br>用于字符串切分。</li>
<li>BitSet:<br>按位存储数据,适用于大规模数据的压缩。</li>
<li>Queue接口及其实现类:<br>用于队列操作,如LinkedList可以当做队列使用。</li>
<li>Stack:<br>基于Vector实现,用于栈操作。</li>
<li>Properties:<br>键值对,可以保存到流中或加载从流中。</li>
</ol>
<p>接下来我们详细分析这些类</p>
<p>1&#x2F;6</p>
<p><img src="/../images/java-notes/Java-Collections.png" alt="Java Collections Framework中的接口"></p>
<p>Collection接口是集合框架层次结构的根接口。</p>
<p>Java没有提供直接实现Collection接口，但是像提供其子接口List，Set和Queue的实现。</p>
<p>如前所述，Collection接口包括由Java类实现的子接口。</p>
<p>Collection接口的所有方法也都存在于其子接口中。</p>
<p>下面三种接口是Collection接口的子接口：</p>
<p>1、List 接口<br>List接口是一个有序的集合，它允许我们像数组一样添加和删除元素。</p>
<p>2、Set 接口<br>Set接口允许我们将元素存储在不同的集合中，类似于数学中的集合。它不能有重复的元素。</p>
<p>3、Queue 接口<br>当我们要以先进先出的方式存储和访问元素时，可以使用Queue接口。</p>
<h3 id="实现List的类"><a href="#实现List的类" class="headerlink" title="实现List的类"></a>实现List的类</h3><p>由于List是接口，因此无法从中创建对象。</p>
<p>为了使用List接口的功能，我们可以使用以下类：</p>
<ul>
<li><p>数组列表（ArrayList类）</p>
</li>
<li><p>链表（LinkedList类）</p>
</li>
<li><p>向量（vector类）</p>
</li>
<li><p>堆栈（Stack类）</p>
</li>
</ul>
<h4 id="1-ArrayList"><a href="#1-ArrayList" class="headerlink" title="1.ArrayList"></a>1.ArrayList</h4><p>ArrayList 类位于 java.util 包中，使用前需要引入它，语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import java.util.ArrayList; // 引入 ArrayList 类</span><br><span class="line"></span><br><span class="line">ArrayList&lt;E&gt; objectName =new ArrayList&lt;&gt;();　 // 初始化</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>E</strong>: 泛型数据类型，用于设置 objectName 的数据类型，<strong>只能为引用数据类型</strong>。(如String&#x2F;Integer)</li>
<li><strong>objectName</strong>: 对象名。</li>
</ul>
<p>ArrayList 是一个数组队列，提供了相关的添加、删除、修改、遍历等功能。</p>
<h2 id="深入理解JVM"><a href="#深入理解JVM" class="headerlink" title="深入理解JVM"></a><strong>深入理解JVM</strong></h2><p><img src="/../images/java-notes/jvm3.png"></p>
<h4 id="class-File-structure"><a href="#class-File-structure" class="headerlink" title=".class File structure"></a>.class File structure</h4><h2 id="The-ClassFile-Structure"><a href="#The-ClassFile-Structure" class="headerlink" title="The ClassFile Structure"></a><strong>The ClassFile Structure</strong></h2><p>A <code>class</code> file consists of a single <code>ClassFile</code> structure:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ClassFile &#123;</span><br><span class="line">    u4             magic;</span><br><span class="line">    u2             minor_version;</span><br><span class="line">    u2             major_version;</span><br><span class="line">    u2             constant_pool_count;</span><br><span class="line">    cp_info        constant_pool[constant_pool_count-1];</span><br><span class="line">    u2             access_flags;</span><br><span class="line">    u2             this_class;</span><br><span class="line">    u2             super_class;</span><br><span class="line">    u2             interfaces_count;</span><br><span class="line">    u2             interfaces[interfaces_count];</span><br><span class="line">    u2             fields_count;</span><br><span class="line">    field_info     fields[fields_count];</span><br><span class="line">    u2             methods_count;</span><br><span class="line">    method_info    methods[methods_count];</span><br><span class="line">    u2             attributes_count;</span><br><span class="line">    attribute_info attributes[attributes_count];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>• ⼀组以8位字节为基础单位的⼆进制流 </p>
<p>• 魔数 </p>
<p>​			• 0xCAFEBABE </p>
<p>• 版本号</p>
<p> • 常量池 </p>
<p>​			• 字⾯量 </p>
<p>​			• 符号引⽤ </p>
<p>• 访问标志 </p>
<p>• 类索引、⽗类索引与接⼝索引集合 </p>
<p>• 字段表集合 </p>
<p>• ⽅法表集合 </p>
<p>• 属性表集合 （代码的实现作为⼀个属性值）</p>
<p><img src="/../images/java-notes/20141008125149484.png" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/luanlouis/article/details/39892027?ops_request_misc=%7B%22request_id%22:%22168466653716782425134525%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=168466653716782425134525&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-6-39892027-null-null.blog_rank_default&utm_term=jvm&spm=1018.2226.3001.4450">《Java虚拟机原理图解》 1.1、class文件基本组织结构_亦山的博客-CSDN博客</a></p>
<ul>
<li>字段信息数据指的是类中定义的字段，包括静态字段和实例字段。这些字段可以是基本数据类型（如int、float等），也可以是引用类型（如对象、数组等），它们在类的生命周期内保存着不同的数据。</li>
</ul>
<p>每个字段在class文件中都会有一条字段表（Field Info）的数据结构来描述它的属性，包括字段名、访问修饰符、字段类型、常量值等信息。这些信息可以被JVM用来验证类的正确性，并在运行时动态地访问或修改字段的值。</p>
<ul>
<li>属性信息（Attribute Info）是指一个类、字段或方法的附加信息。</li>
</ul>
<p>类属性信息包括常量池、父类、接口表、字段表、方法表等。</p>
<p>字段属性信息描述了字段的一些附加信息，如字段的访问标志、常量值等。</p>
<p>方法属性信息可以描述方法的一些附加信息，如方法的访问标志、局部变量表、操作数栈、异常表、代码等。</p>
<p><img src="/../images/java-notes/20141113094738764" alt="img"></p>
<h4 id="jvm运行时数据区"><a href="#jvm运行时数据区" class="headerlink" title="jvm运行时数据区"></a>jvm运行时数据区</h4><p><img src="/../images/java-notes/20141013141216040" alt="img"></p>
<p>虚拟机栈是什么？</p>
<p><img src="/../images/java-notes/20141117164047783" alt="img"></p>
<p>栈帧是什么？</p>
<p><img src="/../images/java-notes/20141013142638909" alt="img"></p>
<p>在运行时，常量池存放编译器生成的各种字面量与符号引用</p>
<p>在Java程序编译为字节码文件时，会将程序中使用的字符串、数字、符号引用等常量都存储在一个被称为常量池（Constant Pool）的表中。常量池是JVM运行时数据区的一部分，用于存储字面量和符号引用，是Java虚拟机实现语言级别不可变性和动态绑定的关键数据结构之一。常量池的作用是为了提高字节码的执行效率，避免了反复解析和计算常量值的过程，同时也为Java的反射机制、动态代理、字符串常量池等提供了基础。</p>
<p>下面是一个简单的Java代码示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class ConstantPoolDemo &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String s1 = &quot;Hello&quot;;</span><br><span class="line">        String s2 = &quot;World&quot;;</span><br><span class="line">        String s3 = s1 + s2;</span><br><span class="line">        String s4 = &quot;HelloWorld&quot;;</span><br><span class="line">        System.out.println(s3 == s4);  // true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在编译时，常量池会存储字符串”Hello”和”World”以及”HelloWorld”的字面量，存储在常量池中的字符串会被JVM优化为常量，以便在程序运行时快速访问。在上述代码中，s1和s2是两个字符串变量，s3是由s1和s2拼接而成的新字符串，s4是一个字符串常量。在执行println语句时，由于s3和s4的值都为”HelloWorld”，因此它们在常量池中的引用是相同的，所以s3 &#x3D;&#x3D; s4的结果为true。</p>
<p>除了字符串常量外，常量池还可以存储其他类型的常量，如数字常量、类和接口的符号引用等。在JVM中，常量池是类加载过程中的一个重要组成部分，它的内容在类加载时被加载并存储在方法区（Metaspace）中。在程序运行时，当需要引用常量池中的某个常量时，JVM会直接从常量池中获取该常量的值，而不是重新计算或解析该常量。</p>
<p><img src="/../images/java-notes/20141013142924359" alt="img"></p>
<p>虚拟机运行的总体路线:</p>
<p><img src="/../images/java-notes/jvm4.png"></p>
<p>In programming languages like C and C++, the code is first compiled into platform-specific machine code. These languages are called <em>compiled languages</em>.</p>
<p>On the other hand, in languages like JavaScript and Python, the computer executes the instructions directly without having to compile them. These languages are called <em>interpreted languages</em>.</p>
<p>Java uses a combination of both techniques. Java code is first compiled into byte code to generate a <em>class</em> file. This <em>class</em> file is then interpreted by the Java Virtual Machine for the underlying platform. The same <em>class</em> file can be executed on any version of JVM running on any platform and operating system.</p>
<h4 id="Three-distinct-components"><a href="#Three-distinct-components" class="headerlink" title="Three distinct components:"></a>Three distinct components:</h4><ol>
<li>Class Loader</li>
<li>Runtime Memory&#x2F;Data Area</li>
<li>Execution Engine</li>
</ol>
<p><img src="/../images/java-notes/jvm1.png" alt="jvm1"></p>
<h4 id="1-类加载机制"><a href="#1-类加载机制" class="headerlink" title="1.类加载机制"></a>1.类加载机制</h4><p>类的加载指的是将类的.class文件中的二进制数据读入到内存中，将其放在运行时数据区的方法区内，然后在堆区创建一个 <code>java.lang.Class</code>对象，用来封装类在方法区内的数据结构。类的加载的最终产品是位于堆区中的 <code>Class</code>对象， <code>Class</code>对象封装了类在方法区内的数据结构，并且向Java程序员提供了访问方法区内的数据结构的接口。</p>
<p><img src="/../images/java-notes/jvm2.png"></p>
<h2 id="字节码专题"><a href="#字节码专题" class="headerlink" title="字节码专题"></a>字节码专题</h2><p>运算指令 </p>
<h3 id="•-算术指令"><a href="#•-算术指令" class="headerlink" title="• 算术指令"></a>• 算术指令</h3><p>⽤于对两个操作数栈上的值进⾏某种特定运算，并 把结果重新存⼊到操作栈顶。</p>
<table>
<thead>
<tr>
<th align="left">• 1)加法指令:iadd,ladd,fadd,dadd</th>
<th>• 2)减法指令:isub,lsub,fsub,dsub</th>
</tr>
</thead>
<tbody><tr>
<td align="left">• 3)乘法指令:imul,lmul,fmul,dmul</td>
<td>• 4)除法指令:idiv,ldiv,fdiv,ddiv</td>
</tr>
<tr>
<td align="left">• 5)求余指令:irem,lrem,frem,drem</td>
<td>• 6)取反指令:ineg,leng,fneg,dneg</td>
</tr>
<tr>
<td align="left">• 7)位移指令:ishl,ishr,iushr,lshl,lshr,lushr</td>
<td>• 8)按位或指令:ior,lor</td>
</tr>
<tr>
<td align="left">• 9)按位与指令:iand,land</td>
<td>• 10)按位异或指令:ixor,lxor</td>
</tr>
<tr>
<td align="left">• 11)局部变量⾃增指令:iinc</td>
<td>• 12)⽐较指令:dcmpg,dcmpl,fcmpg,fcmpl,lcmp</td>
</tr>
</tbody></table>
<p> • Java虚拟机没有明确规定整型数据溢出的情况，但规定了处 理整型数据时，只有除法和求余指令出现除数为0时会导致 虚拟机抛出异常。</p>
<p> • Java虚拟机要求在浮点数运算的时候，所有结果否必须舍⼊ 到适当的精度，如果有两种可表示的形式与该值⼀样，会优 先选择最低有效位为零的。称之为最接近数舍⼊模式。</p>
<p> • 浮点数向整数转换的时候，Java虚拟机使⽤IEEE 754标准中 的向零舍⼊模式，这种模式舍⼊的结果会导致数字被截断， 所有⼩数部分的有效字节会被丢掉。</p>
<p>•</p>
<p> 如同操作⼀个普通数据结构中的堆栈那样，Java 虚拟机提供了⼀些⽤ 于直接操作操作数栈的指令，包括： • 1）将操作数栈的栈顶⼀个或两个元素出栈：pop、pop2 </p>
<p>• 2）复制栈顶⼀个或两个数值并将复制值或双份的复制值重新压 ⼊栈顶：dup、dup2、dup_x1、dup2_x1、dup_x2、dup2_x2。</p>
<p> • 3）将栈最顶端的两个数值互换：swap</p>
<h2 id="OOP-Part"><a href="#OOP-Part" class="headerlink" title="OOP Part"></a><strong>OOP</strong> Part</h2><p>由于结构化编程具有不易阅读、不易变更、难以添加需求的缺点，因此采用面向对象编程的方式合并数据和行为职责，类就是这种职责的抽象，对象则是职责的具体实现。</p>
<h4 id="对象的定义"><a href="#对象的定义" class="headerlink" title="对象的定义"></a>对象的定义</h4><p>每个对象都保存着描述当前特征的信息，对象状态的改变必须通过调用方法实现，对象的状态不能完全描述一个对象，每个对象都有唯一的身份，每个对象的标识与状态基本不同。</p>
<h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><p>这个术语用来表述相同事物的集合，以概要的方式描述了相同事物中的所有元素，但是允许每一个元素在非本质特征上发生变化。</p>
<p>一旦定义了一个类，就可以接着得到这个类的对象或者实例，实例变量的值由类的每个实例提供。</p>
<h4 id="方法与封装"><a href="#方法与封装" class="headerlink" title="方法与封装"></a>方法与封装</h4><p>既要注意属性的覆盖，也要注意统一；其次，要注意封装的完备性，不能出现一个只能加水不能倒水的杯子</p>
<h5 id="职责"><a href="#职责" class="headerlink" title="职责"></a>职责</h5><ul>
<li>数据职责<ul>
<li>表征对象的本质特征</li>
<li>行为计算所需要的数据</li>
</ul>
</li>
<li>行为职责<ul>
<li>表征对象的本质行为</li>
<li>拥有数据所应该体现的行为</li>
</ul>
</li>
</ul>
<h5 id="Static-Method-和-Final-Method"><a href="#Static-Method-和-Final-Method" class="headerlink" title="Static Method 和 Final Method"></a>Static Method 和 Final Method</h5><p>在Java中，<code>static</code>和<code>final</code>是两个不同的关键字，用于不同的目的。</p>
<p><code>static</code>关键字用于创建静态成员，这意味着它们与类本身相关，而不是与类的实例相关。静态成员包括静态变量和静态方法。静态变量是被所有类的实例共享的变量，而静态方法是不依赖于类的实例而被调用的方法。</p>
<p>例如，下面的代码演示了如何声明和使用静态变量和静态方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class MyClass &#123;</span><br><span class="line">    static int myStaticVar = 42;</span><br><span class="line"></span><br><span class="line">    static void myStaticMethod() &#123;</span><br><span class="line">        System.out.println(&quot;This is a static method.&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// usage</span><br><span class="line">int value = MyClass.myStaticVar;</span><br><span class="line">MyClass.myStaticMethod();</span><br></pre></td></tr></table></figure>

<p><code>final</code>关键字用于创建常量，这意味着它们不能被更改。<code>final</code>变量必须在声明时初始化，并且不能被再次赋值。<code>final</code>方法表示它们不能被子类重写。</p>
<p>例如，下面的代码演示了如何声明和使用<code>final</code>变量和<code>final</code>方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class MyClass &#123;</span><br><span class="line">    final int myFinalVar = 42;</span><br><span class="line"></span><br><span class="line">    final void myFinalMethod() &#123;</span><br><span class="line">        System.out.println(&quot;This is a final method.&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// usage</span><br><span class="line">MyClass obj = new MyClass();</span><br><span class="line">int value = obj.myFinalVar;</span><br><span class="line">obj.myFinalMethod();</span><br></pre></td></tr></table></figure>

<p>总的来说，<code>static</code>和<code>final</code>都用于创建不同类型的成员，<code>static</code>用于创建静态成员，<code>final</code>用于创建常量和不可重写的方法。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>java notes</p><p><a href="https://freezetheflame.github.io/2023/08/02/java-notes/">https://freezetheflame.github.io/2023/08/02/java-notes/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>John Doe</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2023-08-02</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2023-08-02</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/java/">java</a></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="/" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>Afdian.net</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><div class="notification is-danger">You forgot to set the <code>business</code> or <code>currency_code</code> for Paypal. Please set it in <code>_config.yml</code>.</div><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2023/08/01/hello-world/"><span class="level-item">Hello World</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">2</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2023/08/02/java-notes/"><img src="https://whvn.cc/wyl3px" alt="java notes"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-08-02T12:27:07.000Z">2023-08-02</time></p><p class="title"><a href="/2023/08/02/java-notes/">java notes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-31T16:16:33.398Z">2023-08-01</time></p><p class="title"><a href="/2023/08/01/hello-world/">Hello World</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/07/31/intro/"><img src="https://th.wallhaven.cc/small/qz/qzll9l.jpg" alt="intro"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-07-31T07:45:05.000Z">2023-07-31</time></p><p class="title"><a href="/2023/07/31/intro/">intro</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2023 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/live2d-widget/autoload.js"></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>